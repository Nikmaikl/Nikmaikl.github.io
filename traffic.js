window.onload = init;var layer;var ctxLayer;var gameWidth = 800;var gameHeight = 600;var trafficImage = new Image();trafficImage.src = "img/off.png";var isPlaying;var getStr;var stateTitle;var requestAnimFrame = window.requestAnimationFrame ||						window.webkitRequestAnimationFrame ||						window.mozRequestAnimationFrame ||						window.oRequestAnimationFrame ||						window.msRequestAnimationFrame;function init(){	layer = document.getElementById("layer");	ctxLayer = layer.getContext("2d");		getStr = document.getElementById("getStr");	stateTitle = document.getElementById("stateTitle");		layer.width = gameWidth;	layer.height = gameHeight;	ymaps.ready(initMap);    var myMap;	// var traffic = new YMaps.Traffic.Control();		startLoop();}function initMap(){             myMap = new ymaps.Map("map", {            center: [55.76, 37.64],            zoom: 7        });                var trafficProvider = new ymaps.traffic.provider.Actual();        trafficProvider.setMap(myMap);                trafficProvider.state.events.add('change', function () { 			if (trafficProvider.state.get('isInited')) { 				console.log(trafficProvider.state.get('level'));        		var style = trafficProvider.state.get('iconStyle');        		var level = trafficProvider.state.get('level');        		        		console.log(style);        		if (style != undefined) {        			trafficImage.src = "img/"+style+".png";        			stateTitle.innerHTML = "Состояние пробок - " + level + " баллов"        		}      		}				});}function loop(){	if(isPlaying)	{		draw();		update();		requestAnimFrame(loop);	}}function startLoop(){	isPlaying = true;	loop();}function stopLoop(){	isPlaying = false;}function draw(){	drawTraffic();}function update(){	}function drawTraffic() {	var w = 510	var h = 600	ctxLayer.drawImage(trafficImage, 0, 0, w, h,		gameWidth/2-w/2, gameHeight/2-h/2, w, h);}//Objectsfunction Player(){}